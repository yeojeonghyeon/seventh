<!DOCTYPE html>
<html>
    <head>
        <title>DOM 탐색</title>
        <script>
            document.addEventListener("DOMContentLoaded", function(){
                var buttonDivObj = document.querySelector("div.buttonDiv");
                var inputList = document.querySelectorAll("div.inputDiv > input");
                var dpIptObj = document.querySelector("#dpIpt");
                // event delegation(이벤트 위임)
                // button 별로 이벤트 헨들러를 지정하지 않고, 버튼들을 감싼(container) div에 이벤트 헨들러를 등록하고
                // event 객체의 target 프로퍼티를 사용하여 실제 이벤트가 발생한 DOM 객체를 얻음
                buttonDivObj.addEventListener("click", function(){
                    // 이벤트가 발생한 DOM 객체(button)의 innerText 값을 가져옴
                    var text = event.target.innerText;
                    // Array.prototype에 있는 from 함수를 사용하여 NodeList(런타임에서 제공하는 자료형)를 배열로 변환 후
                    // Array.prototype에 있는 filter 함수를 사용하여 placeholder가 현재 눌린 버튼의 innerText와 같은 input를 선별 함
                    var resultInputArr = Array.from(inputList).filter(ele=>ele.placeholder==text);
                    if ( resultInputArr.length > 0 ){
                        dpIptObj.value = resultInputArr[0].value;
                    }
                });
            });
        </script>
    </head>
    <body>
        <input type="text" id="dpIpt" placeholder="여기에 값을 복사해 넣으시오">
        <div class="inputDiv">
            <input type="text" value="1" placeholder="first">
            <input type="text" value="2" placeholder="second">
            <input type="text" value="3" placeholder="third">
        </div>
        <div class="buttonDiv">
            <button>first</button>
            <button>second</button>
            <button>third</button>
        </div>
    </body>
</html>